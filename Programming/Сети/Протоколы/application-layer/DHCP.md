---
создал заметку: 2024-07-23
tags:
  - network
  - protocols
  - "#applicationlayer"
---
### Описание

**DHCP (Dynamic Host Configuration Protocol)** — это протокол динамической конфигурации хостов, который позволяет автоматически назначать [IP-адреса](../../IP-адреса.md) и другие сетевые параметры компьютерам в сети. Это значительно упрощает управление сетевой инфраструктурой, особенно в крупных сетях.

#### Основные функции DHCP:

- **Автоматическое назначение IP-адресов**: DHCP автоматически присваивает IP-адреса и другие конфигурационные параметры, такие как маска подсети и шлюз по умолчанию.
- **Требования инфраструктуры**: Для работы DHCP требуется наличие DHCP-сервера, который управляет распределением адресов и следит за уникальностью их использования.

#### Компоненты DHCP:

- **Клиент DHCP**: Устройство, которое запрашивает и получает IP-адрес от DHCP-сервера.
- **Сервер DHCP**: Устройство, которое управляет пулом IP-адресов и назначает их клиентам. Сервер ведет учет назначенных адресов, чтобы избежать дублирования.

#### Процесс получения IP-адреса

![](https://i.imgur.com/piB784G.png)

- **Сообщения DHCP**:
    - **DISCOVER**: Клиент ищет DHCP-сервер.
    - **OFFER**: Сервер предлагает IP-адрес клиенту.
    - **REQUEST**: Клиент запрашивает предложенный IP-адрес.
    - **ACK**: Сервер подтверждает назначение IP-адреса.
    - **NACK**: Сервер отказывает в назначении IP-адреса.
    - **RELEASE**: Клиент освобождает IP-адрес.
    - **INFORM**: Запрос или передача дополнительной конфигурационной информации.

#### Назначение адресов в DHCP

- **Фиксированный**: Конкретный IP-адрес присваивается определенному MAC-адресу.
    
- **Динамический**: IP-адрес выбирается из пула доступных адресов, управляемого DHCP-сервером.
    
- **Пул адресов**: Диапазон IP-адресов, которые могут быть назначены DHCP-сервером. Сервер следит за уникальностью назначаемых адресов.
    

IP-адрес назначается клиенту на ограниченный срок, называемый "время аренды" (lease time). После истечения этого срока адрес может быть использован другим клиентом.

#### Прекращение использования IP-адреса

- **DHCP Release**: Сообщение, которое клиент отправляет серверу для освобождения IP-адреса. В случае его отсутствия сервер удерживает адрес до истечения времени аренды.

#### Дополнительная конфигурационная информация

- Помимо IP-адреса, DHCP может передавать дополнительные параметры:
    - Маску подсети
    - Шлюз по умолчанию (маршрутизатор)
    - DNS-серверы
    - Адреса серверов времени и другие параметры

#### Поиск DHCP-сервера

DHCP-сервер и клиенты должны находиться в одной подсети, иначе используется DHCP Relay, который перенаправляет DHCP-сообщения между подсетями.

![](https://i.imgur.com/COreIkL.png) ![](https://i.imgur.com/YYzSOki.png)

### Краткое содержание

**DHCP (Dynamic Host Configuration Protocol)** — протокол, позволяющий автоматически назначать IP-адреса и другие сетевые параметры компьютерам в сети. Это упрощает управление сетевой инфраструктурой, особенно в динамичных или крупных сетях. ^dceb17